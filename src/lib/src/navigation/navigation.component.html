<nav class="c-navigation c-navigation t-dark" fxLayout="row">

  <div
    class="c-navigation__items"
    #visibleItemsList
    fxFlex="1 1 auto"
    fxLayout="row"
    fxLayoutAlign="end stretch"
  >
    <button
      class="c-navigation__item"
      *ngFor="let item of visibleItems | async"
      #visibleLinkElement
      fxFlex="none"
      (click)="itemSelected.emit(item)"
    >
      <span class="c-navigation__item-inner">
        {{ item.name }}
      </span>
    </button>
  </div>

  <button
    class="c-navigation__trigger"
    [ngClass]="{'c-navigation__trigger--separator': visibleItemsLength}"
    md-button
    [mdMenuTriggerFor]="secondaryNav"
    fxFlex="0 0 auto"
  >
    <span class="c-navigation__trigger-welcome">
      {{ welcomeMessage }}
      <span *ngIf="usersFullName">,</span>
    </span>
    <br *ngIf="usersFullName">
    {{ usersFullName }}

    <md-icon class="c-navigation__trigger-icon">
      keyboard_arrow_down
    </md-icon>
  </button>




  <md-menu
    class="c-navigation__hidden-items"
    #secondaryNav="mdMenu"
    xPosition="before"
    [overlapTrigger]="false"
  >
    <button
      class="c-navigation__hidden-item"
      [ngClass]="{'c-navigation__hidden-item--admin': item.onlyHidden}"
      *ngFor="let item of hiddenItems | async"
      #hiddenLinkElement
      md-menu-item
      (click)="itemSelected.emit(item)"
    >
      {{ item.name }}
    </button>
  </md-menu>

</nav>

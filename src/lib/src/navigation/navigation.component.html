<nav class="c-navigation c-navigation t-dark qa-navigation" fxLayout="row">

  <div
    class="c-navigation__items qa-navigation-items"
    #visibleItemsList
    fxFlex="1 1 auto"
    fxLayout="row"
    fxLayoutAlign="end stretch"
  >
    <button
      class="c-navigation__item qa-navigation-item"
      *ngFor="let item of visibleItems | async"
      #visibleLinkElement
      (click)="itemSelected.emit({event: $event, item: item})"
    >
      <span class="c-navigation__item-inner">
        {{ item?.name }}
      </span>
    </button>
  </div>


  <button
    class="c-navigation__trigger qa-navigation-secondary-trigger"
    [ngClass]="{'c-navigation__trigger--separator': visibleItemsLength}"
    mat-button
    [matMenuTriggerFor]="secondaryNav"
    fxFlex="none"
  >
    <span class="c-navigation__trigger-welcome">
      {{ welcomeMessage }}
      <span *ngIf="usersFullName">,</span>
    </span>
    <br *ngIf="usersFullName">
    {{ usersFullName }}

    <mat-icon class="c-navigation__trigger-icon">
      keyboard_arrow_down
    </mat-icon>
  </button>




  <mat-menu
    class="c-navigation__hidden-items qa-navigation-secondary-items"
    #secondaryNav="matMenu"
    xPosition="before"
    [overlapTrigger]="false"
  >
    <button
      class="c-navigation__hidden-item qa-navigation-secondary-item"
      [ngClass]="{'c-navigation__hidden-item--admin': item.onlyHidden}"
      *ngFor="let item of hiddenItems | async"
      #hiddenLinkElement
      mat-menu-item
      (click)="itemSelected.emit({event: $event, item: item})"
    >
      {{ item?.name }}
    </button>
  </mat-menu>

</nav>

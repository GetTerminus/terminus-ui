<form
  class="c-search c-search qa-search"
  [formGroup]="searchForm"
  [ngClass]="{'c-search--disabled': isSubmitting}"
  (keydown.enter)="searchForm.valid && !isSubmitting && submitted.emit(searchForm.value)"
  fxLayout="row"
  fxLayoutAlign="start center"
>

  <ts-input
    class="qa-search-input"
    [label]="inputLabel"
    [prefixIcon]="icon"
    [isClearable]="userCanClear"
    formControlName="query"
    [formControl]="searchForm.get('query')"
    [hint]="inputHint"
    name="query"
    required
    minlength="2"
    pattern="[a-zA-Z]+"
    (cleared)="cleared.emit(true)"
    fxFlex="grow"
  ></ts-input>

  <ts-button
    class="qa-search-button"
    [theme]="theme"
    [isDisabled]="!searchForm.valid"
    [showProgress]="isSubmitting"
    [buttonType]="buttonType"
    [actionName]="buttonAction"
    (clickEvent)="searchForm.valid && !isSubmitting && submitted.emit(searchForm.value)"
  >Search</ts-button>

</form>
